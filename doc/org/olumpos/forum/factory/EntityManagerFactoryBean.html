<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_231) on Mon Feb 17 01:05:24 EST 2020 -->
<title>EntityManagerFactoryBean</title>
<meta name="date" content="2020-02-17">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EntityManagerFactoryBean";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EntityManagerFactoryBean.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/olumpos/forum/factory/EntityManagerFactoryBean.html" target="_top">Frames</a></li>
<li><a href="EntityManagerFactoryBean.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.olumpos.forum.factory</div>
<h2 title="Class EntityManagerFactoryBean" class="title">Class EntityManagerFactoryBean</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.olumpos.forum.factory.EntityManagerFactoryBean</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Component
public class <span class="typeNameLabel">EntityManagerFactoryBean</span>
extends java.lang.Object</pre>
<div class="block"><br></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>daristote<br>
<br>
 Classe qui permet d'initialiser l'objet de type EntityManagerFactory utilisé pour générer des<br> 
 Objets type EntityManager pour accéder à la base de données<br>
 <br>
 La classe EntityManagerFactoryBean étant annotée avec l'annontation @Component, l'objet est initialisé<br> 
 lors du déploiement de l'application par le serveur web  <br>
 <br>
 Par contre, pour les tests avec JUnit,  l'injection des composantes Spring (@Component, @Repository)<br>
 ne sont pas injectés. On doit donc initialiser à partir des constructeurs des classes UserDAOImpl, TopicDAOImpl et PostDAOImpl<br>
 <br>
 Ces classes étant toutefois marquées de l'annotation @Repository (@Component) les constructeurs sont appelés automatiquement<br>
 lors du déploiement de l'application et l'objet EntityManegerFactoryBean est alors initialisé s'il ne l'est pas déjà<br>
 <br>
 Pour éviter d'intiialiser plus d'un objet de type EntityManagerFactoryBean. on utilise le principe du Singleton (Design Pattern)<br>
 pour initialiser l'objet qu'une seule fois.<br>
 <br>
 Utilisation du principe du Design Pattern Abstract Factory pour initialiser de manière synchrone l'objet de type EntityManagerFactory<br>
 <br>
 Normalement on aurait simplement initialiser EntityManagerFactory dans la fonction init() lors dU déploiement<br>
 de l'application puisqu'lle est annotée de @PostConstruct et donc appelée après la construction de l'Objet EntityManagerFactoryBean<br>
 <br>
 il n'aurait alors pas été nécessaire d'utiliser la synchronisation 'synchronized' pour s'assurer que la création<br>
 de l'objet de fait de manière unique.<br>
 <br>
 Une fonction simple qui retourne l'objet créer l'ors du d.ploiement aurait été suffisante<br>
 <br></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>javax.persistence.EntityManagerFactory</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/olumpos/forum/factory/EntityManagerFactoryBean.html#getEntityManagerfactory--">getEntityManagerfactory</a></span>()</code>
<div class="block">'EntityManagerFactoryBean.getEntityManagerfactory()' appelée au besoin lors d'une demande dA'ccès à la base de données
 
 Principe de synchronisation avec double vérification
 
 param: aucun</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/olumpos/forum/factory/EntityManagerFactoryBean.html" title="class in org.olumpos.forum.factory">EntityManagerFactoryBean</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/olumpos/forum/factory/EntityManagerFactoryBean.html#getEntityManagerFactoryBean--">getEntityManagerFactoryBean</a></span>()</code>
<div class="block">Fonction qui initialise une fois le champ entityManagerFactoryBean et qui le retourne au besoin
 
 La double vérification est nécessaire pour éviter qu'un appel soit pris en attente entre la première vérifcation 
 et le verrouillage (synchronized) pendant qu'un appel précédent soit sur le point d'initialiser l'objet
 L'objet peut ne pas avoir encore été instancié après la première vérification mais pourrait l'avoir été pendant après
 que le verrou soit levé
 
 param: aucun</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/olumpos/forum/factory/EntityManagerFactoryBean.html#init--">init</a></span>()</code>
<div class="block">param: none
 return: void
 
 Fonction appelé après la construction de l'objet de type EntityManagerFactoryBean injecté lors du déploiement de l"application 
 par le serveur web</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>@PostConstruct
public&nbsp;void&nbsp;init()</pre>
<div class="block">param: none
 return: void
 
 Fonction appelé après la construction de l'objet de type EntityManagerFactoryBean injecté lors du déploiement de l"application 
 par le serveur web</div>
</li>
</ul>
<a name="getEntityManagerFactoryBean--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntityManagerFactoryBean</h4>
<pre>public static&nbsp;<a href="../../../../org/olumpos/forum/factory/EntityManagerFactoryBean.html" title="class in org.olumpos.forum.factory">EntityManagerFactoryBean</a>&nbsp;getEntityManagerFactoryBean()</pre>
<div class="block">Fonction qui initialise une fois le champ entityManagerFactoryBean et qui le retourne au besoin
 
 La double vérification est nécessaire pour éviter qu'un appel soit pris en attente entre la première vérifcation 
 et le verrouillage (synchronized) pendant qu'un appel précédent soit sur le point d'initialiser l'objet
 L'objet peut ne pas avoir encore été instancié après la première vérification mais pourrait l'avoir été pendant après
 que le verrou soit levé
 
 param: aucun</div>
</li>
</ul>
<a name="getEntityManagerfactory--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getEntityManagerfactory</h4>
<pre>public&nbsp;javax.persistence.EntityManagerFactory&nbsp;getEntityManagerfactory()</pre>
<div class="block">'EntityManagerFactoryBean.getEntityManagerfactory()' appelée au besoin lors d'une demande dA'ccès à la base de données
 
 Principe de synchronisation avec double vérification
 
 param: aucun</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>: un objet de type EntityManagerFactory</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EntityManagerFactoryBean.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/olumpos/forum/factory/EntityManagerFactoryBean.html" target="_top">Frames</a></li>
<li><a href="EntityManagerFactoryBean.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
